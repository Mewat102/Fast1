<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Send Message with Location</title>
</head>
<body>
  <h2>Send Message with Location</h2>
  <textarea id="message" placeholder="Enter your message"></textarea><br><br>
  <button onclick="sendData()">Send</button>
  <p id="status"></p>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzrhCT9vpAHV77g-JAYtTyzict1XRZ8ma3PtU-5AaLfyYE9_yHn_4Eckf5TGX8rWqUJ6A/exec";

function sendData() {
    document.getElementById("status").innerText = "Sending...";

    navigator.geolocation.getCurrentPosition(pos => {
        const data = {
            message: document.getElementById("message").value,
            latitude: pos.coords.latitude,
            longitude: pos.coords.longitude
        };

        fetch(scriptURL, {
            method: 'POST',
            mode: 'no-cors',
            body: JSON.stringify(data)
        })
        .then(() => {
            document.getElementById("status").innerText = "✅ Data sent successfully!";
        })
        .catch(err => {
            document.getElementById("status").innerText = "❌ Error sending data.";
            console.error(err);
        });

    }, err => {
        document.getElementById("status").innerText = "Location access denied.";
    });
}
</script>
</body>
</html>
